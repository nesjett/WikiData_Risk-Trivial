<!DOCTYPE html>
<html>
<head>
  <title>jVectorMap demo</title>
  <link rel="stylesheet" media="all" href="../jquery-jvectormap.css"/>
  <script src="assets/jquery-1.8.2.js"></script>
  <script src="../jquery-jvectormap.js"></script>

  <script src="../src/jvectormap.js"></script>

  <script src="../src/abstract-element.js"></script>
  <script src="../src/abstract-canvas-element.js"></script>
  <script src="../src/abstract-shape-element.js"></script>

  <script src="../src/svg-element.js"></script>
  <script src="../src/svg-group-element.js"></script>
  <script src="../src/svg-canvas-element.js"></script>
  <script src="../src/svg-shape-element.js"></script>
  <script src="../src/svg-path-element.js"></script>
  <script src="../src/svg-circle-element.js"></script>
  <script src="../src/svg-image-element.js"></script>
  <script src="../src/svg-text-element.js"></script>

  <script src="../src/vml-element.js"></script>
  <script src="../src/vml-group-element.js"></script>
  <script src="../src/vml-canvas-element.js"></script>
  <script src="../src/vml-shape-element.js"></script>
  <script src="../src/vml-path-element.js"></script>
  <script src="../src/vml-circle-element.js"></script>
  <script src="../src/vml-image-element.js"></script>

  <script src="../src/map-object.js"></script>
  <script src="../src/region.js"></script>
  <script src="../src/marker.js"></script>

  <script src="../src/vector-canvas.js"></script>
  <script src="../src/simple-scale.js"></script>
  <script src="../src/ordinal-scale.js"></script>
  <script src="../src/numeric-scale.js"></script>
  <script src="../src/color-scale.js"></script>
  <script src="../src/legend.js"></script>
  <script src="../src/data-series.js"></script>
  <script src="../src/proj.js"></script>
  <script src="../src/map.js"></script>

  <script src="assets/jquery-jvectormap-europe-mill.js"></script>
  <!-- <script src="assets/jquery-jvectormap-world-mill-en.js"></script> -->

    <script src="../game.js"></script> <!-- always load before creating map -->
  <script>
    jQuery.noConflict();
    jQuery(function(){
      var $ = jQuery;

      /* // Example color set
        var myCustomColors = {
            'ES': '#4E7387',
            'RU': '#333333',
            'UA': '#89AFBF',
            'UK': '#817F8E',
            'FR': '#344B5E'
        };
        */

        $("#map").height(window.innerHeight)

      var map = new jvm.Map({
        map: 'europe_mill',
        container: $('#map'),
        zoomOnScroll: false,
        panOnDrag: false,
        focusOn: {
        regions: ["PT","DK","EE","UA"]
        },
        regionsSelectable:true,
        onRegionSelected: SelectRegion,
        onRegionOver: function(event, code){
            if(!IsRegionEnabled(code))
                event.preventDefault()
        },
        onRegionClick: function(event, code){
            if(!IsRegionEnabled(code) || (SelectedRegion != null && IsSameTeam(Turn, code) && SelectedRegion != code)  ) // TODO: if you selected one of your regions, but you click another one, dont pevent and update the selected one
                event.preventDefault()

            if(SelectedRegion === code) {
                SelectedRegion = null;
                UnFocus(map);
            }else {
                if (SelectedRegion != null)
                    ChallengeRegion(SelectedRegion, code)
                else {
                    if(CanSelect(code)) {
                        SelectedRegion = code;
                        AutoZoom(map, code);
                    }else{
                        event.preventDefault();
                    }
                }
            }

        },
        series: {
          regions: [{
              attribute: 'fill'
          }]
        },
        regionStyle: {
          hover: {
              "fill-opacity": 0.8,
              cursor: 'pointer',
              "stroke-width": 3
          },
          selected: {
              fill: '#fffdf2'
          },
          selectedHover: {
          }
        }
      });
        map.series.regions[0].setValues(DetermineRegionColors());


        $(document).on("click", "#turn", function(){
            $("#turn").html(PassTurn());
            $("#turn").css("background", PlayerColors[Turn])
        })


    })
  </script>
</head>
<body>
    <div id="map" style="width: 100%; height: 400px"></div>
    <div id="turn" style="position:absolute;top:50px;left:50px;padding:20px;background:#cdcdcd;cursor:pointer;">0</div>
</body>
</html>